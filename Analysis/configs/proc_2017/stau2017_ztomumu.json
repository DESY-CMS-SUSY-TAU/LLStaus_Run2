{

    "year": "ul2017",
    "file_mode": "local",
    "xrootddomain": "xrootd-cms.infn.it",
    "bad_file_paths": "$CONFDIR/../nano_v11_bad-pnfs-files.json",
    "datadir": "configs/data_UL/ul2017",
    "store": "/pnfs/desy.de/cms/tier2/store/user/sobhatta/LongLivedStaus/NanoAOD/2017/",
    "rng_seed_file": "$CONFDIR/seed.txt",
    "compute_systematics": false,
    // "lumimask": "",
    "luminosity": 41.4,
    "crosssections": "$CONFDIR/crosssections.json",
    "apply_met_filters": true,
    "predict_yield" : false,
    // "run_jet_selection" in case of false jet selection is not performed
    // requirment of n_jets>=2 is not applied (this mode is used for testing DY MC treatment)
    "run_jet_selection": true,
    "exp_datasets": {
        "SingleMuon": [ "$STOREDIR/SingleMuon/*/*/*/*.root" ]
    },
    "mc_datasets": {

        "DYJetsToLL_M-50_TuneCP5_13TeV-madgraphMLM-pythia8": ["$STOREDIR/DYJetsToLL_M-50_TuneCP5_13TeV-madgraphMLM-pythia8/*/*/*/*.root" ],
        "DY1JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8": ["$STOREDIR/DY1JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8/*/*/*/*.root" ],
        "DY2JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8": ["$STOREDIR/DY2JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8/*/*/*/*.root" ],
        "DY3JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8": ["$STOREDIR/DY3JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8/*/*/*/*.root" ],
        "DY4JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8": ["$STOREDIR/DY4JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8/*/*/*/*.root" ],
        
        "WW_TuneCP5_13TeV-pythia8": ["$STOREDIR/WW_TuneCP5_13TeV-pythia8/*/*/*/*.root"],
        "WZ_TuneCP5_13TeV-pythia8": ["$STOREDIR/WZ_TuneCP5_13TeV-pythia8/*/*/*/*.root"],
        "ZZ_TuneCP5_13TeV-pythia8": ["$STOREDIR/ZZ_TuneCP5_13TeV-pythia8/*/*/*/*.root"],
    
        "ST_tW_antitop_5f_inclusiveDecays_TuneCP5_13TeV-powheg-pythia8": ["$STOREDIR/ST_tW_antitop_5f_inclusiveDecays_TuneCP5_13TeV-powheg-pythia8/*/*/*/*.root"],
        "ST_tW_top_5f_inclusiveDecays_TuneCP5_13TeV-powheg-pythia8": ["$STOREDIR/ST_tW_top_5f_inclusiveDecays_TuneCP5_13TeV-powheg-pythia8/*/*/*/*.root"],
        "ST_t-channel_antitop_4f_InclusiveDecays_TuneCP5_13TeV-powheg-madspin-pythia8": ["$STOREDIR//ST_t-channel_antitop_4f_InclusiveDecays_TuneCP5_13TeV-powheg-madspin-pythia8/*/*/*/*.root"],
        "ST_t-channel_top_4f_InclusiveDecays_TuneCP5_13TeV-powheg-madspin-pythia8": ["$STOREDIR/ST_t-channel_top_4f_InclusiveDecays_TuneCP5_13TeV-powheg-madspin-pythia8/*/*/*/*.root"],

        "TTTo2L2Nu_TuneCP5_13TeV-powheg-pythia8": ["$STOREDIR/TTTo2L2Nu_TuneCP5_13TeV-powheg-pythia8/*/*/*/*.root"],
        "TTToHadronic_TuneCP5_13TeV-powheg-pythia8": ["$STOREDIR/TTToHadronic_TuneCP5_13TeV-powheg-pythia8/*/*/*/*.root"],
        "TTToSemiLeptonic_TuneCP5_13TeV-powheg-pythia8": ["$STOREDIR/TTToSemiLeptonic_TuneCP5_13TeV-powheg-pythia8/*/*/*/*.root"],

        "TTWJetsToLNu_TuneCP5_13TeV-amcatnloFXFX-madspin-pythia8" : [ "$STOREDIR/TTWJetsToLNu_TuneCP5_13TeV-amcatnloFXFX-madspin-pythia8/*/*/*/*.root" ],
        "TTWJetsToQQ_TuneCP5_13TeV-amcatnloFXFX-madspin-pythia8" : [ "$STOREDIR/TTWJetsToQQ_TuneCP5_13TeV-amcatnloFXFX-madspin-pythia8/*/*/*/*.root" ],
        "TTZToLLNuNu_M-10_TuneCP5_13TeV-amcatnlo-pythia8" : [ "$STOREDIR/TTZToLLNuNu_M-10_TuneCP5_13TeV-amcatnlo-pythia8/*/*/*/*.root" ],
        "TTZToQQ_TuneCP5_13TeV-amcatnlo-pythia8" : [ "$STOREDIR/TTZToQQ_TuneCP5_13TeV-amcatnlo-pythia8/*/*/*/*.root" ],
        "ttHToNonbb_M125_TuneCP5_13TeV-powheg-pythia8" : [ "$STOREDIR/ttHToNonbb_M125_TuneCP5_13TeV-powheg-pythia8/*/*/*/*.root" ],
        
        "VHToNonbb_M125_TuneCP5_13TeV-amcatnloFXFX_madspin_pythia8" : [ "$STOREDIR/VHToNonbb_M125_TuneCP5_13TeV-amcatnloFXFX_madspin_pythia8/*/*/*/*.root" ],
        
        "WJetsToLNu_TuneCP5_13TeV-madgraphMLM-pythia8" : [ "$STOREDIR/WJetsToLNu_TuneCP5_13TeV-madgraphMLM-pythia8/*/*/*/*.root" ],

        "WWW_4F_TuneCP5_13TeV-amcatnlo-pythia8" : ["$STOREDIR/WWW_4F_TuneCP5_13TeV-amcatnlo-pythia8/*/*/*/*.root",],
        "WWZ_4F_TuneCP5_13TeV-amcatnlo-pythia8" : ["$STOREDIR/WWZ_4F_TuneCP5_13TeV-amcatnlo-pythia8/*/*/*/*.root",],

    },
    "pileup_reweighting": "$DATADIR/pileup.root",
    "muon_sf": [
        [
            "$DATADIR/Efficiencies_muon_generalTracks_Z_Run2017_UL_ID.root",
            "NUM_TightID_DEN_TrackerMuons_abseta_pt",
            ["abseta", "pt"]
        ],
        [
            "$DATADIR/Efficiencies_muon_generalTracks_Z_Run2017_UL_ISO.root",
            "NUM_TightRelIso_DEN_TightIDandIPCut_abseta_pt",
            ["abseta", "pt"]
        ]
    ],
    "muon_sf_trigger": [
        [
            "$DATADIR/Efficiencies_muon_generalTracks_Z_Run2017_UL_SingleMuonTriggers.root",
            "NUM_IsoMu27_DEN_CutBasedIdTight_and_PFIsoTight_abseta_pt",
            ["abseta", "pt"]
        ]
    ],
    "DY_ZptLO_weights": [
        "$DATADIR/zptmass_weights_UL2017.root",
        "zptmass_weight",
        ["pt", "mass"]
    ],
    "DY_jet_reweight": [
        [
            0.06031788251,
            0.01352124558,
            0.01075399898,
            0.004815817089,
            0.004124837776
        ]
    ],
    // "jet_puid_sf": [
    //     "$DATADIR/jmar.json"
    // ],
    "reapply_jec": false,
    "jet_correction_mc": [
        "$DATADIR/Summer19UL17_V6_MC_L1FastJet_AK4PFchs.txt",
        "$DATADIR/Summer19UL17_V6_MC_L2Relative_AK4PFchs.txt",
        "$DATADIR/Summer19UL17_V6_MC_L3Absolute_AK4PFchs.txt"
    ],
    "jet_uncertainty": "$DATADIR/Summer19UL17_V6_MC_Uncertainty_AK4PFchs.txt",
    "jet_resolution": "$DATADIR/Summer19UL17_JRV3_MC_PtResolution_AK4PFchs.txt",
    "jet_ressf": "$DATADIR/Summer19UL17_JRV3_MC_SF_AK4PFchs.txt",
    "smear_met": false,
    "dataset_for_systematics": {
    },
    "dataset_trigger_order": [
        "SingleMuon",
    ],
    "dataset_trigger_map": {
        "SingleMuon": [
            "HLT_IsoMu27"
        ]
    },
    "jet_fake_rate" : [
        "/afs/desy.de/user/m/mykytaua/nfscms/softLLSTAU/LLStaus_Run2/Analysis/output_iteration_4/2017/output_wjet/wjet_v1_fake/fake_rate_ext/fake_rate_jet_dxy_pt.root",
        "fake_rate_jet_dxy_pt",
        ["jet_pt", "jet_dxy"]
    ],

    // tag muon:
    "muon_pt_min_lead"    :  28,
    "muon_pt_min_sublead" :  20,
    "muon_eta_min"  : -2.4,
    "muon_eta_max"  :  2.4,
    "muon_ID"       :  "tightId",
    // PFIso ID from miniAOD selector (1=PFIsoVeryLoose, 2=PFIsoLoose, 3=PFIsoMedium, 4=PFIsoTight, 5=PFIsoVeryTight, 6=PFIsoVeryVeryTight)
    // "muon_pfIsoId"  : 4, // tight: >= 4
    "muon_pfIso"      : 0.15,
    "muon_pfIso_anti" : 0.5,
    // "muon_absdxy"   : 0.2,
    // "muon_absdz"    : 0.5,
    "muon_absdxy"   : 0.045,
    "muon_absdz"    : 0.2,
    "mumu_dr_min"   : 0.5,

    // veto electron:
    "elec_veto_pt"        :  20,
    "elec_veto_eta_min"   : -2.4,
    "elec_veto_eta_max"   :  2.4,
    "elec_veto"           : "convVeto",
    "elec_ID"             : "mvaIso_WPL",

    // veto muon:
    "muon_veto_pt_min"   :  20,
    "muon_veto_eta_min"  : -2.4,
    "muon_veto_eta_max"  :  2.4,
    "muon_veto_ID"       :  "looseId",
    // PFIso ID from miniAOD selector (1=PFIsoVeryLoose, 2=PFIsoLoose, 3=PFIsoMedium, 4=PFIsoTight, 5=PFIsoVeryTight, 6=PFIsoVeryVeryTight)
    "muon_veto_pfIsoId"  : 2, // loose: >= 2

    // reco Jet:
    "jet_pt_min"   :  30,
    "jet_eta_min"  : -2.1,
    "jet_eta_max"  :  2.1,
    "jet_jetId"    :  6, // jetId>=6 pass lepton veto and tight id, jetId>=2 pass tight id
    "dphi_j1j2"    :  0.5,
    "jet_dxy_min"  :  0.5, // to test MC/Data modeling
    // "jet_maxdz_max" : 20,
    // "jet_maxdxy_max"  :  10,

    // Basic jet selection (before selected Jet is called)
    "good_jet_id": "cut:tight",
    "good_jet_puId": "cut:tight",
    "good_jet_lepton_distance": 0.4,
    "good_jet_eta_min": -2.1,
    "good_jet_eta_max": 2.1,
    "good_jet_pt_min": 30,
    "btag": "deepjet:medium",
    "num_atleast_btagged": 0,

    // pfCand selection:
    "pfcand_pt"         : 1.0,
    "pfcand_eta_min"    : -2.4,
    "pfcand_eta_max"    : 2.4,
    "track"             : "hasTrackDetails",

    // MET cut
    // "MET_cut_max"   : 500,

    // ZtoLL window
    "mass_ll_lower" : 70,
    "mass_ll_upper" : 110,

    // Tagger part
    "score_pass" : [0.05, 0.9900],
    "loose_thr" : 0.05,
    "tight_thr" : 0.9900,

    "hists": "$CONFDIR/../hists_configs/ztomumu_hist.json",

    "cuts_to_histogram" : [
        "after_categories",
        "dphi_min_cut",
        "dy_gen_sfs",
        "muon_sfs",
        "mumu_dr"
    ]
}
