{

    "year": "ul2018",
    "file_mode": "local",
    "xrootddomain": "xrootd-cms.infn.it",
    "bad_file_paths": "$CONFDIR/nano_v11_bad-pnfs-files.json",
    "datadir": "configs/data/ul2018",
    "store": "/pnfs/desy.de/cms/tier2/store/user/sobhatta/LongLivedStaus/NanoAOD",
    "rng_seed_file": "$CONFDIR/seed.txt",
    "compute_systematics": true,
    // "lumimask": "",
    "luminosity": 59.74,
    "crosssections": "$CONFDIR/crosssections.json",
    "apply_met_filters": true,
    "column_output_format" : "root",
    // "eventdir" : "/afs/desy.de/user/m/mykytaua/nfscms/softLLSTAU/LLStaus_Run2/Analysis/output_iteration_3/output_zmumu_saved_events_v24/",
    "columns_to_save": [
        [
            "Jet_obj1",
            [
                "pt",
                "eta",
                "phi",
                "mass",
                "dxy",
                "dz",
                "maxdz",
                "dxysig",
                "maxdxy",
                "maxdxysig",
                "dxy_weight",
                "dxysig_weight",
                "disTauTag_score1",
                "dz_err",
                "dxy_err",
                "vz",
                "vxy",
                "fromPV",
                "lostInnerHits",
                "nConstituents",
                "deta",
                "dphi",
                "partonFlavour",
                "hadronFlavour"
            ]
        ],
        [
            "Jet_obj2",
            [
                "pt",
                "eta",
                "phi",
                "mass",
                "dxy",
                "dz",
                "maxdz",
                "dxysig",
                "maxdxy",
                "maxdxysig",
                "dxy_weight",
                "dxysig_weight",
                "disTauTag_score1",
                "dz_err",
                "dxy_err",
                "vz",
                "vxy",
                "fromPV",
                "lostInnerHits",
                "nConstituents",
                "deta",
                "dphi",
                "partonFlavour",
                "hadronFlavour"
            ],
        ],
        [
            "sum_mumu", ["mass", "pt", "eta", "phi"]
        ]
    ],
    "exp_datasets": {
        "SingleMuon": [
            "$STOREDIR/SingleMuon/crab_SingleMuon_2018A_UL/230609_094540/*/*.root",
            "$STOREDIR/SingleMuon/crab_SingleMuon_2018B_UL/230608_152338/*/*.root",
            "$STOREDIR/SingleMuon/crab_SingleMuon_2018C_UL/230608_152344/*/*.root",
            "$STOREDIR/SingleMuon/crab_SingleMuon_2018D_UL/230608_152349/*/*.root"
            ]
    },
    "data_eras": {
        "2018A": [315252, 316995],
        "2018B": [316998, 319312],
        "2018C": [319313, 320393],
        "2018D": [320394, 325273]
    },
    "mc_datasets": {
        // "Inclusive_DYLO_M-50" : [ "$STOREDIR/DYJetsToLL_M-50_TuneCP5_13TeV-madgraphMLM-pythia8/crab_DYJetsToLL_M-50/230311_122118/*/*.root" ],
        "WW_TuneCP5_13TeV-pythia8": ["$STOREDIR/WW_TuneCP5_13TeV-pythia8/crab_WW/240508_150614/*/*.root",],
        "WZ_TuneCP5_13TeV-pythia8": ["$STOREDIR/WZ_TuneCP5_13TeV-pythia8/crab_WZ/240508_150633/*/*.root",],
        "ZZ_TuneCP5_13TeV-pythia8": ["$STOREDIR/ZZ_TuneCP5_13TeV-pythia8/crab_ZZ/240508_150624/*/*.root",],

        "DYJetsToLL_M-10to50_TuneCP5_13TeV-madgraphMLM-pythia8": [ "$STOREDIR/DYJetsToLL_M-10to50_TuneCP5_13TeV-madgraphMLM-pythia8/crab_DYJetsToLL_M-10to50/230511_172527/*/*.root", ],
        "DYJetsToLL_M-50_TuneCP5_13TeV-madgraphMLM-pythia8" : [ "$STOREDIR/DYJetsToLL_M-50_TuneCP5_13TeV-madgraphMLM-pythia8/crab_DYJetsToLL_M-50/230311_122118/*/*.root", ],
        "DY1JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8" : [ "$STOREDIR/DY1JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8/crab_DY1JetsToLL_M-50_MatchEWPDG20/230616_100834/*/*.root" ],
        "DY2JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8" : [ "$STOREDIR/DY2JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8/crab_DY2JetsToLL_M-50_MatchEWPDG20/230616_100840/*/*.root" ],
        "DY3JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8" : [ "$STOREDIR/DY3JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8/crab_DY3JetsToLL_M-50_MatchEWPDG20/230616_100846/*/*.root" ],
        "DY4JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8" : [ "$STOREDIR/DY4JetsToLL_M-50_MatchEWPDG20_TuneCP5_13TeV-madgraphMLM-pythia8/crab_DY4JetsToLL_M-50_MatchEWPDG20/230616_100852/*/*.root" ],
        
        "ST_tW_antitop_5f_inclusiveDecays_TuneCP5_13TeV-powheg-pythia8" : [ "$STOREDIR/ST_tW_antitop_5f_inclusiveDecays_TuneCP5_13TeV-powheg-pythia8/crab_ST_tW_antitop_5f_inclusiveDecays/230311_153850/*/*.root", ],
        "ST_tW_top_5f_inclusiveDecays_TuneCP5_13TeV-powheg-pythia8" : [ "$STOREDIR/ST_tW_top_5f_inclusiveDecays_TuneCP5_13TeV-powheg-pythia8/crab_ST_tW_top_5f_inclusiveDecays/230311_153856/*/*.root", ],
        "ST_t-channel_antitop_4f_InclusiveDecays_TuneCP5_13TeV-powheg-madspin-pythia8" : [ "$STOREDIR/ST_t-channel_antitop_4f_InclusiveDecays_TuneCP5_13TeV-powheg-madspin-pythia8/crab_ST_t-channel_antitop_4f_InclusiveDecays_incl/230311_153838/*/*.root", ],
        "ST_t-channel_top_4f_InclusiveDecays_TuneCP5_13TeV-powheg-madspin-pythia8" : [ "$STOREDIR/ST_t-channel_top_4f_InclusiveDecays_TuneCP5_13TeV-powheg-madspin-pythia8/crab_ST_t-channel_top_4f_InclusiveDecays_incl/230311_153845/*/*.root", ],
        
        "TTTo2L2Nu_TuneCP5_13TeV-powheg-pythia8" : [ "$STOREDIR/TTTo2L2Nu_TuneCP5_13TeV-powheg-pythia8/crab_TTTo2L2Nu/230311_084405/*/*.root", ],
        "TTToHadronic_TuneCP5_13TeV-powheg-pythia8" : [ "$STOREDIR/TTToHadronic_TuneCP5_13TeV-powheg-pythia8/crab_TTToHadronic/230311_084410/*/*.root", ],
        "TTToSemiLeptonic_TuneCP5_13TeV-powheg-pythia8" : [ "$STOREDIR/TTToSemiLeptonic_TuneCP5_13TeV-powheg-pythia8/crab_TTToSemiLeptonic/230311_084416/*/*.root", ],
        
        "TTWJetsToLNu_TuneCP5_13TeV-amcatnloFXFX-madspin-pythia8" : [ "$STOREDIR/TTWJetsToLNu_TuneCP5_13TeV-amcatnloFXFX-madspin-pythia8/crab_TTWJetsToLNu/230311_161710/*/*.root", ],
        "TTWJetsToQQ_TuneCP5_13TeV-amcatnloFXFX-madspin-pythia8" : [ "$STOREDIR/TTWJetsToQQ_TuneCP5_13TeV-amcatnloFXFX-madspin-pythia8/crab_TTWJetsToQQ/230311_161703/*/*.root", ],
        "TTZToLLNuNu_M-10_TuneCP5_13TeV-amcatnlo-pythia8" : [ "$STOREDIR/TTZToLLNuNu_M-10_TuneCP5_13TeV-amcatnlo-pythia8/crab_TTZToLLNuNu/230311_161657/*/*.root", ],
        "TTZToQQ_TuneCP5_13TeV-amcatnlo-pythia8" : [ "$STOREDIR/TTZToQQ_TuneCP5_13TeV-amcatnlo-pythia8/crab_TTZToQQ/230311_161651/*/*.root", ],
        "ttHToNonbb_M125_TuneCP5_13TeV-powheg-pythia8" : [ "$STOREDIR/ttHToNonbb_M125_TuneCP5_13TeV-powheg-pythia8/crab_ttHToNonbb/230311_161716/*/*.root", ],
        
        "VHToNonbb_M125_TuneCP5_13TeV-amcatnloFXFX_madspin_pythia8" : [ "$STOREDIR/VHToNonbb_M125_TuneCP5_13TeV-amcatnloFXFX_madspin_pythia8/crab_VHToNonbb/230311_154232/*/*.root", ],
        "VVTo2L2Nu_MLL-1toInf_TuneCP5_13TeV-amcatnloFXFX-pythia8" : [ "$STOREDIR/VVTo2L2Nu_MLL-1toInf_TuneCP5_13TeV-amcatnloFXFX-pythia8/crab_VVTo2L2Nu/230311_153916/*/*.root", ],
        "WGToLNuG_TuneCP5_13TeV-madgraphMLM-pythia8" : [ "$STOREDIR/WGToLNuG_TuneCP5_13TeV-madgraphMLM-pythia8/crab_WGToLNuG/230311_174132/*/*.root", ],
        
        "WJetsToLNu_TuneCP5_13TeV-madgraphMLM-pythia8" : [ "$STOREDIR/WJetsToLNu_TuneCP5_13TeV-madgraphMLM-pythia8/crab_WJetsToLNu/230311_122159/*/*.root", ],

        // Old filles, not used anymore (but kept for reference)

        // "GluGluToContinToZZTo2e2tau_TuneCP5_13TeV-mcfm701-pythia8" : [ "$STOREDIR/GluGluToContinToZZTo2e2tau_TuneCP5_13TeV-mcfm701-pythia8/crab_GluGluToContinToZZTo2e2tau/230311_174228/*/*.root", ],
        // "GluGluToContinToZZTo2mu2tau_TuneCP5_13TeV-mcfm701-pythia8" : [ "$STOREDIR/GluGluToContinToZZTo2mu2tau_TuneCP5_13TeV-mcfm701-pythia8/crab_GluGluToContinToZZTo2mu2tau/230311_174235/*/*.root", ],
        // "GluGluToContinToZZTo4tau_TuneCP5_13TeV-mcfm701-pythia8" : [ "$STOREDIR/GluGluToContinToZZTo4tau_TuneCP5_13TeV-mcfm701-pythia8/crab_GluGluToContinToZZTo4tau/230311_174241/*/*.root", ],

        // "WWTo1L1Nu2Q_4f_TuneCP5_13TeV-amcatnloFXFX-pythia8" : [ "$STOREDIR/WWTo1L1Nu2Q_4f_TuneCP5_13TeV-amcatnloFXFX-pythia8/crab_WWTo1L1Nu2Q/230311_153937/*/*.root", ],
        // "WWW_4F_TuneCP5_13TeV-amcatnlo-pythia8" : [ "$STOREDIR/WWW_4F_TuneCP5_13TeV-amcatnlo-pythia8/crab_WWW/230311_154025/*/*.root", ],
        // "WWZ_4F_TuneCP5_13TeV-amcatnlo-pythia8" : [ "$STOREDIR/WWZ_4F_TuneCP5_13TeV-amcatnlo-pythia8/crab_WWZ/230311_154030/*/*.root", ],
        // "WZTo1L1Nu2Q_4f_TuneCP5_13TeV-amcatnloFXFX-pythia8" : [ "$STOREDIR/WZTo1L1Nu2Q_4f_TuneCP5_13TeV-amcatnloFXFX-pythia8/crab_WZTo1L1Nu2Q/230311_153944/*/*.root", ],
        // "WZTo1L3Nu_4f_TuneCP5_13TeV-amcatnloFXFX-pythia8" : [ "$STOREDIR/WZTo1L3Nu_4f_TuneCP5_13TeV-amcatnloFXFX-pythia8/crab_WZTo1L3Nu/230311_153949/*/*.root", ],
        // "WZTo2Q2L_mllmin4p0_TuneCP5_13TeV-amcatnloFXFX-pythia8" : [ "$STOREDIR/WZTo2Q2L_mllmin4p0_TuneCP5_13TeV-amcatnloFXFX-pythia8/crab_WZTo2Q2L/230311_153955/*/*.root", ],
        // "WZTo3LNu_TuneCP5_13TeV-amcatnloFXFX-pythia8" : [ "$STOREDIR/WZTo3LNu_TuneCP5_13TeV-amcatnloFXFX-pythia8/crab_WZTo3LNu/230311_154001/*/*.root", ],
        // "ZZTo2Q2L_mllmin4p0_TuneCP5_13TeV-amcatnloFXFX-pythia8" : [ "$STOREDIR/ZZTo2Q2L_mllmin4p0_TuneCP5_13TeV-amcatnloFXFX-pythia8/crab_ZZTo2Q2L/230311_154007/*/*.root", ],
        // "ZZTo4L_TuneCP5_13TeV_powheg_pythia8" : [ "$STOREDIR/ZZTo4L_TuneCP5_13TeV_powheg_pythia8/crab_ZZTo4L/230311_154018/*/*.root", ],

    },
    "pileup_reweighting": "$DATADIR/pileup.root",
    "muon_sf": [
        [   // ID sfs
            "$DATADIR/Efficiencies_muon_generalTracks_Z_Run2018_UL_ID.root",
            // "NUM_TightID_DEN_TrackerMuons_abseta_pt",
            "NUM_MediumID_DEN_TrackerMuons_abseta_pt",
            ["abseta", "pt"]
        ],
        [   // ISO sfs
            "$DATADIR/Efficiencies_muon_generalTracks_Z_Run2018_UL_ISO.root",
            // "NUM_TightRelIso_DEN_TightIDandIPCut_abseta_pt",
            "NUM_TightRelIso_DEN_MediumID_abseta_pt",
            ["abseta", "pt"]
        ],
    ],
    "muon_sf_trigger": [
        [
            "$DATADIR/Efficiencies_muon_generalTracks_Z_Run2018_UL_SingleMuonTriggers.root",
            // "NUM_IsoMu24_DEN_CutBasedIdTight_and_PFIsoTight_abseta_pt",
            "NUM_IsoMu24_DEN_CutBasedIdTight_and_PFIsoTight_eta_pt", // offline and online might be different in naming
            // ["abseta", "pt"]
            ["eta", "pt"]
        ]
    ],
    "DY_ZptLO_weights": [
        "$DATADIR/zptmass_weights_UL2018.root",
        "zptmass_weight",
        ["pt", "mass"]
    ],
    "DY_jet_reweight": [
        [
            0.0812335,
            0.0153163,
            0.0114241,
            0.0058230,
            0.0055868
        ]
    ],
    "jet_puid_sf": [
        "$DATADIR/jmar.json"
    ],
    "reapply_jec": false,
    "jet_correction_mc": [
        "$DATADIR/Summer19UL18_V5_MC_L1FastJet_AK4PFchs.txt",
        "$DATADIR/Summer19UL18_V5_MC_L2Relative_AK4PFchs.txt",
        "$DATADIR/Summer19UL18_V5_MC_L3Absolute_AK4PFchs.txt"
    ],
    "jet_uncertainty": "$DATADIR/Summer19UL18_V5_MC_Uncertainty_AK4PFchs.txt",
    "jet_resolution": "$DATADIR/Summer19UL18_JRV2_MC_PtResolution_AK4PFchs.txt",
    "jet_ressf": "$DATADIR/Summer19UL18_JRV2_MC_SF_AK4PFchs.txt",
    "smear_met": false,
    "dataset_for_systematics": {
    },
    "dataset_trigger_order": [
        "SingleMuon",
    ],
    "dataset_trigger_map": {
        "SingleMuon": [
            "HLT_IsoMu24"
        ]
    },
    "jet_fake_rate" : [
        "/afs/desy.de/user/m/mykytaua/nfscms/softLLSTAU/LLStaus_Run2/Analysis/output_iteration_2/output_wjet/wjet_v11/fake_rate_nonunif/fake_rate_jet_dxy_pt.root",
        "fake_rate_jet_dxy_pt",
        ["jet_pt", "jet_dxy"]
    ],

    "predict_yield" : false,
    
    // "skim_path" : "/afs/desy.de/user/m/mykytaua/nfscms/softLLSTAU/LLStaus_Run2/Analysis/",

    // tag muon:
    "muon_pt_min"   :  25,
    "muon_eta_min"  : -2.4,
    "muon_eta_max"  :  2.4,
    "muon_ID"       :  "mediumId",
    // PFIso ID from miniAOD selector (1=PFIsoVeryLoose, 2=PFIsoLoose, 3=PFIsoMedium, 4=PFIsoTight, 5=PFIsoVeryTight, 6=PFIsoVeryVeryTight)
    // "muon_pfIsoId"  : 4, // tight: >= 4
    "muon_pfIso"      : 0.15,
    "muon_pfIso_anti" : 0.6,
    // "muon_absdxy"   : 0.2,
    // "muon_absdz"    : 0.5,
    "muon_absdxy"   : 0.045,
    "muon_absdz"    : 0.2,
    "mumu_dr_min"   : 0.5,

    // veto electron:
    "elec_veto_pt"        :  20,
    "elec_veto_eta_min"   : -2.4,
    "elec_veto_eta_max"   :  2.4,
    "elec_veto"           : "convVeto",
    "elec_ID"             : "mvaIso_WPL",

    // veto muon:
    "muon_veto_pt_min"   :  20,
    "muon_veto_eta_min"  : -2.4,
    "muon_veto_eta_max"  :  2.4,
    "muon_veto_ID"       :  "looseId",
    // PFIso ID from miniAOD selector (1=PFIsoVeryLoose, 2=PFIsoLoose, 3=PFIsoMedium, 4=PFIsoTight, 5=PFIsoVeryTight, 6=PFIsoVeryVeryTight)
    "muon_veto_pfIsoId"  : 2, // loose: >= 2

    // reco Jet:
    "jet_pt_min"   :  30,
    "jet_eta_min"  : -2.1,
    "jet_eta_max"  :  2.1,
    "jet_jetId"    :  2, // jetId>=6 pass lepton veto and tight id, jetId>=2 pass tight id
    "dphi_j1j2"    :  0.5,
    "jet_dxy_min"  :  0.0, // to test MC/Data modeling
    "jet_maxdz_max" : 20,
    "jet_maxdxy_max"  :  10,

    // Basic jet selection (before selected Jet is called)
    "good_jet_id": "cut:tight",
    "good_jet_puId": "cut:tight",
    "good_jet_lepton_distance": 0.4,
    "good_jet_eta_min": -2.1,
    "good_jet_eta_max": 2.1,
    "good_jet_pt_min": 30,
    "btag": "deepjet:medium",
    "num_atleast_btagged": 0,

    // pfCand selection:
    "pfcand_pt"         : 1.0,
    "pfcand_eta_min"    : -2.4,
    "pfcand_eta_max"    : 2.4,
    // "pfcand_eta_min"    : -1.5,
    // "pfcand_eta_max"    : 1.5,
    "track"             : "hasTrackDetails",

    // MET cut
    // "MET_cut_max"   : 500,

    // ZtoLL window
    "mass_ll_lower" : 70,
    "mass_ll_upper" : 120,

    // Tagger part
    // "score_pass" : [0.05, 0.1, 0.15, 0.2, 0.25, 0.30, 0.35, 0.40, 0.45, 0.5, 0.95, 0.9900, 0.9972, 0.9996],
    "score_pass" : [0.05, 0.9900],
    "loose_thr" : 0.05,
    "tight_thr" : 0.9900,

    "hists": "$CONFDIR/stau2018_ztomumu_hist.json",

    "cuts_to_histogram" : [
        "has_more_one_jets",
        "after_jet_def",
        "dphi_min_cut"
    ]
}
